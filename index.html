<!doctype html><html lang="en"><head><meta charset="utf-8"/><link rel="icon" href="/new-year-greeting/favicon.ico"/><meta name="viewport" content="width=device-width,initial-scale=1"/><meta name="theme-color" content="#000000"/><meta name="description" content="Web site created using create-react-app"/><link rel="apple-touch-icon" href="/new-year-greeting/logo192.png"/><link rel="manifest" href="/new-year-greeting/manifest.json"/><title>年賀状</title><link href="/new-year-greeting/static/css/main.5b1ea4bf.chunk.css" rel="stylesheet"></head><body><noscript>You need to enable JavaScript to run this app.</noscript><div id="root"></div><canvas id="starCanvas"></canvas><canvas id="c"></canvas><script>!function(e){function r(r){for(var n,i,a=r[0],l=r[1],f=r[2],c=0,s=[];c<a.length;c++)i=a[c],Object.prototype.hasOwnProperty.call(o,i)&&o[i]&&s.push(o[i][0]),o[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);for(p&&p(r);s.length;)s.shift()();return u.push.apply(u,f||[]),t()}function t(){for(var e,r=0;r<u.length;r++){for(var t=u[r],n=!0,a=1;a<t.length;a++){var l=t[a];0!==o[l]&&(n=!1)}n&&(u.splice(r--,1),e=i(i.s=t[0]))}return e}var n={},o={1:0},u=[];function i(r){if(n[r])return n[r].exports;var t=n[r]={i:r,l:!1,exports:{}};return e[r].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=e,i.c=n,i.d=function(e,r,t){i.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,r){if(1&r&&(e=i(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)i.d(t,n,function(r){return e[r]}.bind(null,n));return t},i.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(r,"a",r),r},i.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},i.p="/new-year-greeting/";var a=this["webpackJsonpnew-year-greeting"]=this["webpackJsonpnew-year-greeting"]||[],l=a.push.bind(a);a.push=r,a=a.slice();for(var f=0;f<a.length;f++)r(a[f]);var p=l;t()}([])</script><script src="/new-year-greeting/static/js/2.777c0d3d.chunk.js"></script><script src="/new-year-greeting/static/js/main.1fc467aa.chunk.js"></script></body><script>const background=document.getElementById("starCanvas"),bgCtx=background.getContext("2d"),getScreenHeight=window.innerHeight,getScreenWidth=window.innerWidth,age=31,cycles=3;let shootingCycles=0,theEnd=!1;function Star(t){this.minSize=.1*Math.random(),this.maxSize=3*Math.random(),this.size=1*Math.random(),this.speed=.02*Math.random(),this.x=t.x,this.y=t.y}function ShootingStar(){this.reset()}background.width=getScreenWidth,background.height=getScreenHeight,Star.prototype.reset=function(){this.size=2*Math.random(),this.speed=.02*Math.random(),this.x=getScreenWidth,this.y=Math.random()*getScreenHeight},Star.prototype.update=function(){this.x-=this.speed,this.x<0?this.reset():(this.glow(),bgCtx.fillRect(this.x,this.y,this.size,this.size))},Star.prototype.glow=function(){const t=6*Math.random();this.size=t>=this.maxSize?this.maxSize/2:t<=this.minSize?this.minSize:t},ShootingStar.prototype.reset=function(){shootingCycles++,shootingCycles<=93&&(this.x=Math.random()*getScreenWidth*2,this.y=0,this.len=80*Math.random()+10,this.speed=10*Math.random()+6,this.size=1*Math.random()+.1,this.waitTime=(new Date).getTime()+3e3*Math.random()+500),this.active=!1},ShootingStar.prototype.update=function(){this.active?(this.x-=this.speed,this.y+=this.speed,this.x<0||this.y>=getScreenHeight?this.reset():(bgCtx.lineWidth=this.size,bgCtx.beginPath(),bgCtx.moveTo(this.x,this.y),bgCtx.lineTo(this.x+this.len,this.y-this.len),bgCtx.stroke())):this.waitTime<(new Date).getTime()&&(this.active=!0)};const entities=[],starArray=[];for(let t=0;t<getScreenHeight;t++){const t=Math.random(),e=Math.random();starArray.push(new Star({x:t*getScreenWidth,y:e*getScreenHeight}))}for(let t=0;t<31;t++)entities.push(new ShootingStar);function animate(){if(!theEnd){bgCtx.fillStyle="#000000",bgCtx.fillRect(0,0,getScreenWidth,getScreenHeight),bgCtx.fillStyle="#ffffff",bgCtx.strokeStyle="#ffffff";let t=starArray.length;for(;t--;)starArray[t].update();requestAnimationFrame(animate)}}function animateShootingStars(){if(!theEnd){let t=entities.length;for(;t--;)entities[t].update();requestAnimationFrame(animateShootingStars)}}animate()</script><script>var gl=c.getContext("webgl",{preserveDrawingBuffer:!0}),w=c.width=window.innerWidth,h=c.height=window.innerHeight,webgl={},opts={projectileAlpha:.8,projectileLineWidth:1.3,fireworkAngleSpan:.5,baseFireworkVel:3,addedFireworkVel:3,gravity:.03,lowVelBoundary:-.2,xFriction:.995,baseShardVel:1,addedShardVel:.2,fireworks:1e3,baseShardsParFirework:10,addedShardsParFirework:10,shardFireworkVelMultiplier:.3,initHueMultiplier:1/360,runHueAdder:.1/360};webgl.vertexShaderSource="\nuniform int u_mode;\nuniform vec2 u_res;\nattribute vec4 a_data;\nvarying vec4 v_color;\n\nvec3 h2rgb( float h ){\n  return clamp( abs( mod( h * 6. + vec3( 0, 4, 2 ), 6. ) - 3. ) -1., 0., 1. );\n}\nvoid clear(){\n  gl_Position = vec4( a_data.xy, 0, 1 );\n  v_color = vec4( 0, 0, 0, a_data.w );\n}\nvoid draw(){\n  gl_Position = vec4( vec2( 1, -1 ) * ( ( a_data.xy / u_res ) * 2. - 1. ), 0, 1 );\n  v_color = vec4( h2rgb( a_data.z ), a_data.w );\n}\nvoid main(){\n  if( u_mode == 0 )\n    draw();\n  else\n    clear();\n}\n",webgl.fragmentShaderSource="\nprecision mediump float;\nvarying vec4 v_color;\n\nvoid main(){\n  gl_FragColor = v_color;\n}\n",webgl.vertexShader=gl.createShader(gl.VERTEX_SHADER),gl.shaderSource(webgl.vertexShader,webgl.vertexShaderSource),gl.compileShader(webgl.vertexShader),webgl.fragmentShader=gl.createShader(gl.FRAGMENT_SHADER),gl.shaderSource(webgl.fragmentShader,webgl.fragmentShaderSource),gl.compileShader(webgl.fragmentShader),webgl.shaderProgram=gl.createProgram(),gl.attachShader(webgl.shaderProgram,webgl.vertexShader),gl.attachShader(webgl.shaderProgram,webgl.fragmentShader),gl.linkProgram(webgl.shaderProgram),gl.useProgram(webgl.shaderProgram),webgl.dataAttribLoc=gl.getAttribLocation(webgl.shaderProgram,"a_data"),webgl.dataBuffer=gl.createBuffer(),gl.enableVertexAttribArray(webgl.dataAttribLoc),gl.bindBuffer(gl.ARRAY_BUFFER,webgl.dataBuffer),gl.vertexAttribPointer(webgl.dataAttribLoc,4,gl.FLOAT,!1,0,0),webgl.resUniformLoc=gl.getUniformLocation(webgl.shaderProgram,"u_res"),webgl.modeUniformLoc=gl.getUniformLocation(webgl.shaderProgram,"u_mode"),gl.viewport(0,0,w,h),gl.uniform2f(webgl.resUniformLoc,w,h),gl.blendFunc(gl.SRC_ALPHA,gl.ONE_MINUS_SRC_ALPHA),gl.enable(gl.BLEND),gl.lineWidth(opts.projectileLineWidth),webgl.data=[],webgl.clear=function(){gl.uniform1i(webgl.modeUniformLoc,1);var e=.1;webgl.data=[-1,-1,0,e,1,-1,0,e,-1,1,0,e,-1,1,0,e,1,-1,0,e,1,1,0,e],webgl.draw(gl.TRIANGLES),gl.uniform1i(webgl.modeUniformLoc,0),webgl.data.length=0},webgl.draw=function(e){gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(webgl.data),gl.STATIC_DRAW),gl.drawArrays(e,0,webgl.data.length/4)};for(var fireworks=[],tick=0,sins=[],coss=[],maxShardsParFirework=opts.baseShardsParFirework+opts.addedShardsParFirework,tau=6.283185307179586,i=0;i<maxShardsParFirework;++i)sins[i]=Math.sin(tau*i/maxShardsParFirework),coss[i]=Math.cos(tau*i/maxShardsParFirework);function Firework(){this.reset(),this.shards=[];for(var e=0;e<maxShardsParFirework;++e)this.shards.push(new Shard(this))}function Shard(e){this.parent=e}function anim(){window.requestAnimationFrame(anim),webgl.clear(),++tick,fireworks.length<opts.fireworks&&fireworks.push(new Firework),fireworks.map((function(e){e.step()})),webgl.draw(gl.LINES)}Firework.prototype.reset=function(){var e=-Math.PI/2+(Math.random()-.5)*opts.fireworkAngleSpan,r=opts.baseFireworkVel+opts.addedFireworkVel*Math.random();this.mode=0,this.vx=r*Math.cos(e),this.vy=r*Math.sin(e),this.x=Math.random()*w,this.y=h,this.hue=tick*opts.initHueMultiplier},Firework.prototype.step=function(){if(0===this.mode){var e=this.hue,r=this.x,t=this.y;if(this.hue+=opts.runHueAdder,this.x+=this.vx*=opts.xFriction,this.y+=this.vy+=opts.gravity,webgl.data.push(r,t,e,.2*opts.projectileAlpha,this.x,this.y,this.hue,.2*opts.projectileAlpha),this.vy>=opts.lowVelBoundary){this.mode=1,this.shardAmount=opts.baseShardsParFirework+opts.addedShardsParFirework*Math.random()|0;for(var a=Math.random()*tau,i=Math.cos(a),o=Math.sin(a),s=sins[this.shardAmount],h=coss[this.shardAmount],n=0;n<this.shardAmount;++n){var d=opts.baseShardVel+opts.addedShardVel*Math.random();this.shards[n].reset(i*d,o*d);var l=i;i=i*h-o*s,o=o*h+l*s}}}else if(1===this.mode){this.ph=this.hue,this.hue+=opts.runHueAdder;var g=!0;for(n=0;n<this.shardAmount;++n){var w=this.shards[n];w.dead||(w.step(),g=!1)}g&&this.reset()}},Shard.prototype.reset=function(e,r){this.x=this.parent.x,this.y=this.parent.y,this.vx=this.parent.vx*opts.shardFireworkVelMultiplier+e,this.vy=this.parent.vy*opts.shardFireworkVelMultiplier+r,this.starty=this.y,this.dead=!1,this.tick=1},Shard.prototype.step=function(){this.tick+=.05;var e=this.x,r=this.y;this.x+=this.vx*=opts.xFriction,this.y+=this.vy+=opts.gravity;this.y,this.starty,this.starty;webgl.data.push(e,r,this.parent.ph,opts.projectileAlpha/this.tick,this.x,this.y,this.parent.hue,opts.projectileAlpha/this.tick),this.y>h&&(this.dead=!0)},anim(),window.addEventListener("resize",(function(){w=c.width=window.innerWidth,h=c.height=window.innerHeight,gl.viewport(0,0,w,h),gl.uniform2f(webgl.resUniformLoc,w,h)})),window.addEventListener("click",(function(e){var r=new Firework;r.x=e.clientX,r.y=e.clientY,r.vx=0,r.vy=0,fireworks.push(r)}))</script></html>